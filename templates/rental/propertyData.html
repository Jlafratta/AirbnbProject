{% extends "base.html" %}

{% block title %} Informacion de propiedad {% endblock %}

{% block content %}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                        <ol class="carousel-indicators">
                            {% for prop_img in property_images %}
                                <li data-target="#carouselExampleIndicators" data-slide-to="{{ forloop.counter0 }}" class="{% if forloop.first %} active {% endif %}"></li>
                            {% endfor %}
                        </ol>

                        <div class="carousel-inner" role="listbox">
                            {% for prop_img in property.images.all %}
                            <div class="carousel-item {% if forloop.first %} active {% endif %}">
                                <img class="d-block" src="/static/media/{{ prop_img.image.name }}" alt="{{ prop_img.short_description }}">
                                <div class="carousel-caption d-none d-md-block">
                                  <h5>{{ prop_img.short_description }}</h5>
                                </div>
                            </div>
                            {% empty %}
                                <img class="d-block" src="/static/img/picture-not-available.jpg" alt="Imagen no disponible">
                            {% endfor %}
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                          <i class="now-ui-icons arrows-1_minimal-left"></i>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                          <i class="now-ui-icons arrows-1_minimal-right"></i>
                        </a>
                      </div>
                </div>
                <div class="card-body">
                    <h3 class="mb-2"> {{ property.title }} <br><small><i class="now-ui-icons location_pin"></i> {{ property.city.name }} <!-- - Casa entera --></small></h3>
                    <span class="mr-2"><i class="now-ui-icons users_single-02"></i> {{ property.capacity }} huéspedes</span>
                    <span><i class="now-ui-icons ui-2_time-alarm"></i> {{ property.dormitories }} dormitorios</span>
                    <p class="mt-2">{{ property.description }}</p>
                    {% for service in property.services.all %}
                        <span class="badge badge-default">{{ service.name }}</span>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <nav class="navbar navbar-expand-lg bg-danger mb-1">
                        <div class="container d-flex justify-content-center">
                            <h3 class="text-light mb-1"><strong>$ {{ property.daily_price }}</strong> por noche</h3>
                        </div>
                    </nav>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-6">
                            <label for="min_date">Llegada</label>
                            <input type="date" id="min_date" name="min_date" class="form-control" value="2020-10-08">
                        </div> 
                        <div class="col-sm-6">
                            <label for="max_date">Salida</label>
                            <input type="date" id="max_date" name="max_date" class="form-control" value="2020-10-10">
                        </div>
                    </div>
                    <div class="row mt-3 mb-3">
                        <div class="col-sm-12">
                            <label for="capacity">Huéspedes</label>
                            <select name="capacity" id="capacity" class="form-control">
                                {% for i in capacity %}
                                    <option value="{{ i }}">{{ i }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <hr>
                    <div class="row d-flex justify-content-between mt-2">
                        <div class="col-md-6">
                            <p class="text-left text-muted mb-1">2 noches</p>
                        </div>
                        <div class="col-md-6">
                            <p class="text-right mb-1">$ 7500</p>  
                        </div>
                    </div>
                    <div class="row d-flex justify-content-between mt-1">
                        <div class="col-md-6">
                            <p class="text-left text-muted mb-1">Com. 8%</p>
                        </div>
                        <div class="col-md-6">
                            <p class="text-right mb-1">$ 600</p>  
                        </div>
                    </div>
                    <hr>
                    <div class="row d-flex justify-content-between mt-1">
                        <div class="col-md-6">
                            <p class="text-left text-muted"><strong>Total</strong></p>
                        </div>
                        <div class="col-md-6">
                            <p class="text-right"><strong>$ 8100</strong></p>  
                        </div>
                    </div>
                    <button class="btn btn-danger btn-lg btn-block mb-1">Reservar</button>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

